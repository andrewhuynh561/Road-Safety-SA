@model Assig1.ViewModels.OffenceDetailViewModel

<div class="container mt-5">
    <h2 class="text-center mb-4">Offence Dashboard</h2>

  
    <div class="card mb-4">
        <div class="card-body">         
             <h2>Offence Details</h2>      
            <p><strong>Offence Code:</strong> @Model.OffenceCode</p>
            <p><strong>Description:</strong> @Model.Description</p>
            <p><strong>Section Code:</strong> @Model.SectionCode</p>
        </div>
    </div>

    <div class="card mb-4">
        <div class="card-body">
            <h5 class="card-title">Key Insights</h5>
            <ul class="list-group list-group-flush">
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    Total Expiations
                    <span class="">@Model.TotalExpiations</span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    Average Fee Per Expiation
                    <span class="">@Model.AverageFee.ToString("C")</span>
                </li>
            </ul>
        </div>
    </div>

    <div class="card mb-4">
        <div class="card-body">
            <h5 class="card-title">Expiations Per Month</h5>
            <ul class="list-group">
                @foreach (var month in Model.ExpiationsPerMonth)
                {
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        @month.Key
                        <span class="">@month.Value</span>
                    </li>
                }
            </ul>
        </div>
    </div>

    <h3 class="text-center mb-3">Expiation Details</h3>
    <div class="table-responsive">
        <table class="table table-bordered table-hover">
            <thead class="table-dark">
                <tr>
                    <th>Incident Date</th>
                    <th>Issue Date</th>
                    <th>Total Fee</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var expiation in Model.Expiations)
                {
                    <tr>
                        <td>@expiation.IncidentStartDate.ToString("yyyy-MM-dd")</td>
                        <td>@expiation.IssueDate?.ToString("yyyy-MM-dd")</td>
                        <td>@expiation.TotalFee?.ToString("C")</td>
                        <td>@expiation.Status</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>
